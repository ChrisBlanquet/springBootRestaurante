<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Men√∫ | Comidas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/6f23470d40.js" crossorigin="anonymous"></script>

  <link rel="stylesheet" th:href="@{/css/fragment/header.css}">
  <link rel="stylesheet" th:href="@{/css/listaProductoC.css}">
</head>
<body>

  <!-- Header -->
  <div th:replace="fragmentos/header :: siteHeader"></div>

  <h1 class="page-title text-center my-5">Elige tu Antojo</h1>

  <!-- üîç FILTROS -->
	<div class="container mb-5">
	  <form th:action="@{/producto/buscar}" method="get" 
	        class="row g-3 align-items-end justify-content-center shadow-sm p-4 rounded" 
	        style="background: #fff;">
	    
	    <div class="col-md-3">
	      <label for="tipo" class="form-label fw-bold">Tipo</label>
	      <select class="form-select" id="tipo" name="tipo">
	        <option value="">Todos</option>
	        <option value="1" th:selected="${tipo == 1}">Entradas</option>
	        <option value="2" th:selected="${tipo == 2}">Postres</option>
	        <option value="3" th:selected="${tipo == 3}">Bebidas</option>
	        <option value="4" th:selected="${tipo == 4}">Comidas</option>
	      </select>
	    </div>
	
	    <div class="col-md-3">
	      <label for="precioMin" class="form-label fw-bold">Precio m√≠nimo</label>
	      <input type="number" step="0.01" class="form-control" id="precioMin" name="precioMin"
	             placeholder="$0.00" th:value="${precioMin}">
	    </div>
	
	    <div class="col-md-3">
	      <label for="precioMax" class="form-label fw-bold">Precio m√°ximo</label>
	      <input type="number" step="0.01" class="form-control" id="precioMax" name="precioMax"
	             placeholder="$999.99" th:value="${precioMax}">
	    </div>
	
	    <!-- üß≠ BOTONES UNO JUNTO AL OTRO -->
	    <div class="col-md-3 d-flex gap-2">
	      <button type="submit" class="btn btn-dark flex-fill">
	        <i class="fa-solid fa-magnifying-glass"></i> Buscar
	      </button>
	      <a th:href="@{/producto/listaProducto}" class="btn btn-outline-secondary flex-fill">
	        <i class="fa-solid fa-xmark"></i> Limpiar
	      </a>
	    </div>
	  </form>
	</div>

  <!-- ü•ó LISTADO DE PRODUCTOS -->
  <div class="container content-principal">
    <div class="cards-grid">
      <div class="food-card" th:each="producto : ${listaProducto}">
        <img th:src="@{/uploads/{tmpImg}(tmpImg=${producto.foto})}" 
		     alt="producto" 
		     class="card-img-top food-img">


        <div class="card-body">
          <h5 class="card-title" th:text="${producto.nombre}">Nombre</h5>
          <p class="card-text description" th:text="${producto.descripcion}">Descripci√≥n</p>

          <div class="price-tag">
            <span th:switch="${producto.tipo}">
              <span th:case="1">Entrada</span>
              <span th:case="2">Postre</span>
              <span th:case="3">Bebida</span>
              <span th:case="4">Comida</span>
              <span th:case="*">Otro</span>
            </span>
          </div>

          <p class="text-muted small mb-2">
            <span th:text="'$' + ${producto.precio}"></span>
          </p>

          <a th:href="@{'/producto/verProducto/' + ${producto.id}}" class="btn btn-dark w-100">
            Ver m√°s
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div th:replace="fragmentos/footer :: siteFooter"></div>

</body>
</html>
